@model Toutokaz.Domain.Models.tb_ads
@using Toutokaz.WebUI.Helpers
@{
    ViewBag.Title = "Toutokazz Admin - Details Annonces";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdminPagev2.cshtml";
}

<div class="inner inner-box ads-details-wrapper">
    <h2> @Html.Raw(Model.ad_title)</h2>
    <span class="info-row"> <span class="date"><i class=" icon-clock"> </i> @Html.Encode(Model.ad_date_created.Value.ToShortDateString()) </span> - <span class="category">@Html.Label(Model.tb_category.category_title) </span>- <span class="item-location"><i class="fa fa-map-marker"></i> @Html.Label(Model.tb_commune.commune)</span> </span>
    <div class="ads-image">
        <h1 class="pricetag"> @HttpUtility.HtmlDecode(Model.tb_devise.symbole) @Html.DisplayFor(x => x.ad_price)</h1>
        <ul class="bxslider">
            @{
                int slide = 1;
                foreach (var item in Model.tb_ad_image)
                {
                    <li><img src="@Url.Content(System.Web.Configuration.WebConfigurationManager.AppSettings["PhotosDir"] + (string.IsNullOrEmpty(item.image_filename) ? "default-img.jpg" : item.image_filename) + "?width=700&height=500")" alt="img" /></li>
                    slide++;
                }
            }
        </ul>
        <div id="bx-pager">
            @{
                int cnt = 0;
                foreach (var item in Model.tb_ad_image)
                {
                    <a class="thumb-item-link" data-slide-index="@cnt" href=""><img src="@Url.Content(System.Web.Configuration.WebConfigurationManager.AppSettings["PhotosDir"] + item.image_filename + "?width=80&height=60")" alt="img" /></a>
                    cnt++;
                }
            }
        </div>
    </div>
    <!--ads-image-->

    <div class="Ads-Details">
        <h5 class="list-title"><strong>DETAIL DE L'ANNONCE</strong></h5>
        <div class="row">
            <div class="ads-details-info col-md-8">
                <p>
                    @Html.Raw(Model.ad_description)
                </p>

            </div>
            <div class="col-md-4">
                @if (Model.id_category == 1 || Model.id_category == 2)
                {

                    <aside class="panel panel-body panel-details">
                        <ul>
                            @foreach (var c in Model.tb_ad_vehicule)
                            {
                                <li>
                                    <p class=" no-margin "><strong>Marque:</strong> @Html.Label(c.marque)</p>
                                </li>
                                    <li>
                                        <p class="no-margin"><strong>Modèle:</strong> @Html.Label(c.modele)</p>
                                    </li>
                                    <li>
                                        <p class="no-margin"><strong>Annee:</strong> @Html.DisplayFor(m => c.annee)</p>
                                    </li>
                                    <li>
                                        <p class=" no-margin ">
                                            <strong>Transmission:</strong> @if (c.id_transmission == 1)
                                            {  @Html.Label("Manuelle")}
                                            else if (c.id_transmission == 2)
                                            { @Html.Label("Automatique") }
                                            else
                                            {  @Html.Label("NA")}
                                        </p>
                                    </li>
                                    <li>
                                        <p class="no-margin">
                                            <strong>Carburant:</strong> @if (c.id_carburant == 1)
                                            {  @Html.Label("Gazoline")}
                                            else if (c.id_carburant == 2)
                                            { @Html.Label("Diesel") }
                                            else if (c.id_carburant == 3)
                                            { @Html.Label("Propane") }
                                            else
                                            {  @Html.Label("NA")}
                                        </p>
                                    </li>
                                    <li>
                                        <p class="no-margin"><strong>Kilometrage:</strong> @Html.DisplayFor(m => c.mileage)</p>
                                    </li>
                            }
                        </ul>

                    </aside>

                }
                else if (Model.id_section == 2)
                {
                    <aside class="panel panel-body panel-details">
                        <ul>
                            @foreach (var c in Model.tb_ad_immobilier)
                            {
                                <li>
                                    <p class=" no-margin "><strong>Pièce(s):</strong> @Html.DisplayFor(m => c.id_nb_pieces) pièce(s)</p>
                                </li>
                                    <li>
                                        <p class="no-margin"><strong>Chambre(s):</strong> @Html.DisplayFor(m => c.id_nb_pieces) chambre(s</p>
                                    </li>
                                    <li>
                                        <p class="no-margin"><strong>Surface:</strong> @Html.DisplayFor(m => c.surface)<label> m&sup2;</label> </p>
                                    </li>
                                    <li>
                                        <p class=" no-margin "><strong>Loyer:</strong> @Html.DisplayFor(m => c.loyer) <label> USD </label></p>
                                    </li>
                            }
                        </ul>

                    </aside>
                }
                else
                {
                    <aside class="panel panel-body panel-details">
                        <ul>
                            <li>
                                <p class=" no-margin "><strong>Code:</strong> @Html.Label(Model.ad_code.ToString())</p>
                            </li>
                            @if (Model.id_section != 9 && Model.id_section != 8)
                            {
                                <li>
                                    <p class=" no-margin "><strong>Prix:</strong> @HttpUtility.HtmlDecode(Model.tb_devise.symbole) @Html.DisplayFor(x => x.ad_price)</p>
                                </li>
                            }
                            <li>
                                <p class="no-margin">
                                    <strong>Etat:</strong>

                                    @if (Model.id_item_condition == 1)
                                    {
                                        @Html.Label("Neuf")
                                    }
                                    @if (Model.id_item_condition == 2)
                                    {
                                        @Html.Label("En bon etat")
                                    }
                                    @if (Model.id_item_condition == 3)
                                    {
                                        @Html.Label("D'occasion")
                                    }

                                </p>
                            </li>
                        </ul>
                    </aside>
                }

            </div>

        </div>
    </div>
</div>

@section Script{
    <script type="text/javascript">

        $('.bxslider').bxSlider({
            pagerCustom: '#bx-pager'
        });

    </script>
}



