@model  PagedList.IPagedList<Toutokaz.Domain.Models.tb_account>
@using Toutokaz.WebUI.Helpers
@using PagedList.Mvc 
@{
    ViewBag.Title = "Toutokazz Admin - Users";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdminPagev2.cshtml";
}

<div class="inner-box">
    <h2 class="title-2"><i class="icon-docs"></i> Tous les Utilisateurs</h2>
    <div>@TempData["Error"]</div>
        <form class="form-inline"  action="@Url.Action("userlist", "account", new { area = "Admin" })" role="form" style="margin:10px">
                      <div class="form-group">
                        <input type="text" class="form-control" id="email"  name="email" placeholder="Email">
                      </div>
                      <div class="form-group">
                        @Html.DropDownList("id_account_type", @ViewBag.id_account_type as SelectList ,"(Type du compte)", new {  @class="col-sm-3 form-control"})
                      </div>
                      <button type="submit" class="btn btn-primary">Filtrer</button>
                    </form>

<table  class="table table-striped table-bordered add-manage-table table demo">
    <tr>

         <th>
            @Html.DisplayName("Nom Utilisateur")
        </th>
        <th>
            @Html.DisplayName("Type compte")
        </th>
        <th>
            @Html.DisplayName("Role")
        </th>
        <th>
            @Html.DisplayName("Status")
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.username)
        </td>
          <td>
            @Html.DisplayFor(modelItem => item.tb_account_type.account_type)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.role)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.status)
        </td>
        <td>
            @Html.ActionLink("Editer", "EditUser", new {  UserId=item.UserId}) |
            @Html.ActionLink("Desactiver", "Desactiver", new { /* id=item.PrimaryKey */ })
        </td>
    </tr>
}

</table>

      <div>
            <div> @Html.PagedListPager(Model, page => @Url.Action("userlist","account", new {area = "Admin", page}))</div>
        </div>
</div>
