@model PagedList.IPagedList<Toutokaz.Domain.Models.tb_ads>
@using Toutokaz.WebUI.Helpers
@using PagedList.Mvc 

@{
    ViewBag.Title = "Toutokazz - MesAnnonces";
    Layout = "~/Views/Shared/_LayoutPagev2.cshtml";
}

<div  id="modalDeleteAds"  class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Supprimer une annonce</h4>
      </div>
      <div class="modal-body">
               <p>Vous etes sur le point de supprimer une annonce.</p>
        <p>Voulez-vous continuer et supprimer l'annonce?</p>
      </div>
      <div class="modal-footer">
      <a  id="btnYes" class="btn btn-primary danger" role="button">Oui</a>
      <a href="#" data-dismiss="modal" aria-hidden="true" class="btn btn-primary" role="button">Non</a>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div  id="modalPublishedAds"  class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Publier une annonce</h4>
      </div>
      <div class="modal-body">
               <p>Vous etes sur le point de publier une annonce.</p>
        <p>Voulez-vous continuer et publier l'annonce?</p>
      </div>
      <div class="modal-footer">
      <a  id="btnPublierYes" class="btn btn-primary danger" role="button">Oui</a>
      <a href="#" data-dismiss="modal" aria-hidden="true" class="btn btn-primary" role="button">Non</a>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div  id="modalDesactiverAds"  class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Desactiver une annonce</h4>
      </div>
      <div class="modal-body">
               <p>Vous etes sur le point de desactiver une annonce.</p>
        <p>Voulez-vous continuer et desactiver l'annonce?</p>
      </div>
      <div class="modal-footer">
      <a  id="btnDesactiverYes" class="btn btn-primary danger" role="button">Oui</a>
      <a  href="#" data-dismiss="modal" aria-hidden="true" class="btn btn-primary" role="button">Non</a>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div  id="modalVenduAds"  class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Marquer Vendu</h4>
      </div>
      <div class="modal-body">
               <p>Vous etes sur le point de marquer cette annonce comme vendu.</p>
        <p>Voulez-vous continuer?</p>
      </div>
      <div class="modal-footer">
      <a  id="btnVenduYes" class="btn btn-primary danger" role="button">Oui</a>
      <a  href="#" data-dismiss="modal" aria-hidden="true" class="btn btn-primary" role="button">Non</a>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


 <div class="row">
    <div class="col-sm-3 page-sidebar">
           <aside>
                                <div class="inner-box">
                                    <div class="user-panel-sidebar">
                                        <div class="collapse-box">
                                            <h5 class="collapse-title no-border"> Tableau de bord <a class="pull-right" data-toggle="collapse" href="#MyClassified"><i class="fa fa-angle-down"></i></a></h5>
                                            <div id="MyClassified" class="panel-collapse collapse in">
                                                <ul class="acc-list">
                                                    <li><a href="account-home.html"><i class="icon-home"></i> Mon Profil </a></li>

                                                </ul>
                                            </div>
                                        </div>
                                        <!-- /.collapse-box  -->
                                        <div class="collapse-box">
                                            <h5 class="collapse-title"> Mes Annonces <a class="pull-right" data-toggle="collapse" href="#MyAds"><i class="fa fa-angle-down"></i></a></h5>
                                            <div id="MyAds" class="panel-collapse collapse in">
                                                <ul class="acc-list">
                                                    <li class="active"><a href="account-myads.html"><i class="icon-docs"></i> Mes Annonces <span class="badge">42</span> </a></li>
                                                    <li><a href="account-archived-ads.html"><i class="icon-folder-close"></i> Annonces désactivées<span class="badge">42</span></a></li>
                                                    <li><a href="account-pending-approval-ads.html"><i class="icon-hourglass"></i> Annonces Pendantes <span class="badge">42</span></a></li>

                                                </ul>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <!-- /.inner-box  -->

                            </aside>
                        </div>
    <!--/.page-sidebar-->

   <div class="col-sm-9 page-content">
        <div class="inner-box">
            <h2 class="title-2"><i class="icon-docs"></i> Mes Annonces</h2>
            <div>@TempData["Error"]</div>
              <div class="table-responsive">
                                               <div class="table-action">
                                                   <label for="checkAll">
                                                       <input type="checkbox" onclick="checkAll(this)" id="checkAll">
                                                       Select: All | <a href="#" class="btn btn-xs btn-danger">Delete <i class="glyphicon glyphicon-remove "></i></a>
                                                   </label>
                                                   <div class="table-search pull-right col-xs-7">
                                                       <div class="form-group">
                                                           <label class="col-xs-5 control-label text-right">
                                                               Recherche <br>
                                                               <a title="clear filter" class="clear-filter" href="#clear">[clear]</a>
                                                           </label>
                                                           <div class="col-xs-7 searchpan">
                                                              <input type="text" class="form-control" id="filter">
                                                           </div>
                                                       </div>
                                                   </div>
                                               </div>
                                               <table id="addManageTable" class="table table-striped table-bordered add-manage-table table demo" data-filter="#filter" data-filter-text-only="true">
                                                   <thead>
                                                       <tr>
                                                           <th data-type="numeric" data-sort-initial="true"> </th>
                                                           <th> Photo </th>
                                                           <th data-sort-ignore="true"> Details </th>
                                                           <th data-type="numeric"> Prix </th>
                                                           <th> Option </th>
                                                       </tr>
                                                   </thead>
                                                   <tbody>
                                                       @foreach (var item in Model) {
                                                       <tr>
                                                           <td style="width:2%" class="add-img-selector">
                                                               <div class="checkbox">
                                                                   <label>
                                                                       <input type="checkbox" id="ad_@item.id_ad" data-ads="@item.id_ad" class="chkbox" />
                                                                   </label>
                                                               </div>
                                                           </td>
                                                           <td style="width:14%" class="add-img-td"><a href="@Url.Action("details","MesAnnonces",new { id= item.id_ad})"><img class="thumbnail  img-responsive" src="@Url.Content(WebConfigurationManager.AppSettings["PhotosDir"]+item.tb_ad_image.FirstOrDefault().image_filename+"?width=100&height=100")" alt="img"></a></td>
                                                           <td style="width:58%" class="ads-details-td">
                                                               <div>
                                                                   <p><strong> @Html.ActionLink(item.ad_title, "details", "MesAnnonces", new { id = item.id_ad }, null) </strong></p>
                                                                   <p>
                                                                       <strong> Postée le </strong>:
                                                                       @Html.Encode(item.ad_date_created.Value.ToShortDateString())
                                                                   </p>
                                                                   <p> <strong>Visites </strong>: 0 <strong>Location:</strong> @Html.Label(item.tb_commune.commune) </p>
                                                               </div>
                                                           </td>
                                                           <td style="width:16%" class="price-td"><div><strong> @HttpUtility.HtmlDecode(item.tb_devise.symbole) @Html.DisplayFor(x => item.ad_price)</strong></div></td>
                                                           <td style="width:10%" class="action-td">
                                                               <div>
                                                                   <p><a class="btn btn-primary btn-xs" href="@Url.Action("modifier","mesAnnonces",new { id = item.id_ad})"> <i class="fa fa-edit"></i> Editer </a></p>
                                                                   <p> <a class="btn btn-info btn-xs confirm-vendu" href="@Url.Action("Vendu","MesAnnonces",new { id = item.id_ad})"  data-ads="@item.id_ad"> <i class="fa fa-mail-forward"></i> Vendu </a></p>
                                                                   <p> <a class="btn btn-info btn-xs confirm-publier" href="@Url.Action("Vendu","MesAnnonces",new { id = item.id_ad})" data-ads="@item.id_ad"> <i class="fa fa-mail-forward"></i> Publier </a></p>
                                                                   <p> <a class="btn btn-danger btn-xs confirm-desactiver" href="@Url.Action("Desactiver","MesAnnonces",new { id = item.id_ad})" data-ads="@item.id_ad"> <i class=" fa fa-trash"></i> Désactiver </a></p>
                                                                   <p> <a class="btn btn-danger btn-xs confirm-delete" href="@Url.Action("Supprimer","MesAnnonces",new { id = item.id_ad})" data-ads="@item.id_ad"> <i class=" fa fa-trash"></i> Supprimmer </a></p>
                                                               </div>
                                                           </td>
                                                       </tr>
                                                       }
                                                    </tbody>
                                               </table>
                  <div> @Html.PagedListPager(Model, page => @Url.Action("Index", new { page }))</div>
                                           </div>
                <!--/.row-box End-->
       </div>
   </div>
  <!--/.page-content-->
 </div>
 <!--/.row--> 